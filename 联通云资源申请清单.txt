=====================================================
联通云资源申请配置清单 - 智能报价助手系统
=====================================================

项目名称：智能报价助手系统
申请方案：经济型配置
适用场景：测试环境、小规模使用、个人开发

=====================================================
一、ECS云服务器配置
=====================================================

基本配置：
- 实例规格：ecs.t5-c1m2.large
- CPU：1核心
- 内存：2GB
- 操作系统：Ubuntu 20.04 LTS 64位
- 系统架构：x86_64

存储配置：
- 系统盘类型：SSD云硬盘
- 系统盘容量：20GB
- 数据盘：暂不配置（可后续扩展）

网络配置：
- 网络类型：专有网络VPC
- 交换机：默认交换机
- 私有IP：自动分配
- IPv6：不启用

安全组配置：
- 安全组名称：homepage-security-group
- 入方向规则：
  * SSH访问：22/TCP，源：0.0.0.0/0
  * HTTP访问：80/TCP，源：0.0.0.0/0
  * HTTPS访问：443/TCP，源：0.0.0.0/0
  * 前端服务：3000/TCP，源：0.0.0.0/0
  * 后端API：3002/TCP，源：0.0.0.0/0
  * MongoDB：27017/TCP，源：127.0.0.1/32（仅本机访问）

其他配置：
- 实例名称：homepage-server
- 主机名：homepage
- 密码：自定义（登录后修改）
- 密钥对：不使用
- 实例RAM角色：无
- 用户数据：无
- 标签：项目=智能报价助手

=====================================================
二、弹性公网IP配置
=====================================================

基本配置：
- IP版本：IPv4
- IP地址：系统自动分配
- 线路类型：BGP（多线）

带宽配置：
- 计费方式：按固定带宽
- 带宽峰值：5Mbps
- 带宽类型：共享带宽

绑定配置：
- 绑定资源类型：ECS实例
- 绑定实例：homepage-server

其他配置：
- 名称：homepage-public-ip
- 描述：智能报价助手系统公网IP
- 资源组：默认资源组

=====================================================
三、域名注册配置
=====================================================

域名信息：
- 域名后缀：.com（推荐）或 .cn
- 域名长度：建议6-15个字符
- 域名示例：yourproject.com

注册信息：
- 注册年限：1年
- 域名解析：使用联通云DNS解析
- 域名保护：开启域名隐私保护

DNS解析配置：
- 主域名A记录：@ -> 公网IP地址
- www子域名A记录：www -> 公网IP地址
- TTL值：600秒

=====================================================
四、SSL证书配置（可选）
=====================================================

证书类型：
- 证书品牌：免费SSL证书
- 证书类型：域名验证型（DV）
- 加密算法：RSA 2048位
- 域名数量：单域名

申请信息：
- 绑定域名：yourproject.com
- 验证方式：DNS验证
- 证书有效期：1年
- 自动续费：开启

=====================================================
五、安全组详细规则配置
=====================================================

入方向规则（Inbound）：
规则1：SSH远程登录
- 授权策略：允许
- 优先级：1
- 协议类型：SSH(22)
- 端口范围：22/22
- 授权类型：IPv4地址段访问
- 授权对象：0.0.0.0/0
- 描述：SSH远程登录访问

规则2：HTTP Web访问
- 授权策略：允许
- 优先级：2
- 协议类型：HTTP(80)
- 端口范围：80/80
- 授权类型：IPv4地址段访问
- 授权对象：0.0.0.0/0
- 描述：HTTP Web访问

规则3：HTTPS安全访问
- 授权策略：允许
- 优先级：3
- 协议类型：HTTPS(443)
- 端口范围：443/443
- 授权类型：IPv4地址段访问
- 授权对象：0.0.0.0/0
- 描述：HTTPS安全访问

规则4：前端应用访问
- 授权策略：允许
- 优先级：4
- 协议类型：自定义TCP
- 端口范围：3000/3000
- 授权类型：IPv4地址段访问
- 授权对象：0.0.0.0/0
- 描述：React前端应用访问

规则5：后端API访问
- 授权策略：允许
- 优先级：5
- 协议类型：自定义TCP
- 端口范围：3002/3002
- 授权类型：IPv4地址段访问
- 授权对象：0.0.0.0/0
- 描述：Node.js后端API访问

规则6：MongoDB数据库（内网）
- 授权策略：允许
- 优先级：6
- 协议类型：自定义TCP
- 端口范围：27017/27017
- 授权类型：IPv4地址段访问
- 授权对象：127.0.0.1/32
- 描述：MongoDB数据库访问（仅本机）

出方向规则（Outbound）：
- 保持默认（允许所有出站流量）

=====================================================
六、软件环境配置清单
=====================================================

操作系统组件：
- 操作系统：Ubuntu 20.04 LTS Server
- 内核版本：5.4+
- 包管理器：APT
- 系统语言：English（UTF-8）
- 时区：Asia/Shanghai

基础软件包：
- curl：数据传输工具
- wget：文件下载工具
- vim：文本编辑器
- git：版本控制工具
- htop：系统监控工具
- unzip：解压缩工具
- build-essential：编译工具链

运行环境：
- Node.js：18.x LTS版本
- npm：Node.js包管理器
- MongoDB：6.0社区版
- PM2：进程管理器
- Nginx：1.18+反向代理服务器
- serve：静态文件服务器

开发工具：
- Git：代码版本管理
- 防火墙：ufw（Ubuntu防火墙）
- 系统监控：systemd服务管理

=====================================================
七、网络架构配置
=====================================================

网络拓扑：
互联网 → 公网IP → 安全组 → ECS实例

内部端口分配：
- 3000端口：React前端应用
- 3002端口：Node.js后端API
- 27017端口：MongoDB数据库（内网）
- 80端口：Nginx HTTP服务
- 443端口：Nginx HTTPS服务（未来）
- 22端口：SSH远程管理

代理配置：
- Nginx反向代理：80 → 3000（前端）
- API代理：80/api → 3002（后端）
- 静态文件：直接服务或代理

=====================================================
八、存储配置方案
=====================================================

系统存储：
- 系统盘：20GB SSD（操作系统、软件）
- 应用目录：/opt/Homepage
- 日志目录：/var/log/homepage
- 备份目录：/opt/backups

数据存储：
- 数据库存储：/var/lib/mongodb
- 文件上传：/opt/Homepage/uploads
- 临时文件：/tmp

备份策略：
- 数据库备份：mongodump每日凌晨2点
- 文件备份：tar压缩上传文件
- 日志轮转：logrotate自动管理
- 保留策略：保留7天备份

=====================================================
九、监控配置方案
=====================================================

系统监控：
- CPU使用率监控
- 内存使用率监控
- 磁盘空间监控
- 网络流量监控

应用监控：
- Node.js进程状态
- MongoDB服务状态
- Nginx服务状态
- PM2进程管理

日志管理：
- 系统日志：/var/log/syslog
- 应用日志：/var/log/homepage/
- Nginx日志：/var/log/nginx/
- MongoDB日志：/var/log/mongodb/

告警设置：
- 磁盘使用率>80%告警
- 内存使用率>90%告警
- 服务停止告警
- 错误日志告警

